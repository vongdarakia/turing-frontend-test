(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n(266)},129:function(e,t,n){},132:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),c=n(33),i=n.n(c),s=n(8),u=n(21),l=n(104),d=n(105),p=n(37),m=n(6),h="vongdara-turing-cart-id",f={},g={user:null,selectedCategory:null,selectedDepartment:null,selectedProductId:void 0,departments:[],categories:[],isLoginModalOpen:!1,isRegisterModalOpen:!1,isCheckoutModalOpen:!1,isProductDetailModalOpen:!1},b={firstName:"",lastName:"",address:"",city:"",state:"",zipCode:"",country:"United States",shippingOptionId:1},v=Object(u.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,a={};switch(n){case"INCREMENT_ITEM_IN_CART":return e[r.name]?Object(m.a)({},e,Object(p.a)({},r.name,Object(m.a)({},e[r.name],{quantity:e[r.name].quantity+1}))):Object(m.a)({},e,Object(p.a)({},r.name,Object(m.a)({},e[r.name],{quantity:1})));case"DECREMENT_ITEM_IN_CART":if(e[r.name]){if(0===e[r.name].quantity)return e;var o=e[r.name].quantity-1;return o<=0&&(o=0),Object(m.a)({},e,Object(p.a)({},r.name,Object(m.a)({},e[r.name],{quantity:o})))}return e;case"UPDATE_ITEM_AMOUNT_IN_CART":return r.quantity===e[r.item.name].quantity?e:r.quantity>=0?Object(m.a)({},e,Object(p.a)({},r.item.name,Object(m.a)({},e[r.item.name],{quantity:r.quantity}))):Object(m.a)({},e,Object(p.a)({},r.item.name,Object(m.a)({},e[r.item.name],{quantity:0})));case"REMOVE_ITEM_FROM_CART":return delete(a=Object(m.a)({},e))[r.name],a;case"STORE_CART":return r.cart.forEach(function(e){a[e.name]=e}),a;case"CLEAR_CART":return{};default:return e}},main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case"CLEAR_USER":return Object(m.a)({},e,{user:null});case"STORE_USER":return r.user&&r.user.error?Object(m.a)({},e,{user:null}):Object(m.a)({},e,{user:Object(m.a)({},r.user)});case"STORE_CATEGORIES":return Object(m.a)({},e,{categories:r.categories||[]});case"STORE_DEPARTMENTS":return Object(m.a)({},e,{departments:r.departments||[]});case"SELECT_CATEGORY":return Object(m.a)({},e,{selectedCategory:r.category});case"SELECT_DEPARTMENT":return Object(m.a)({},e,{selectedDepartment:r.department,selectedCategory:null});case"CLEAR_CATEGORY":return Object(m.a)({},e,{selectedCategory:null});case"CLEAR_DEPARTMENT":return Object(m.a)({},e,{selectedDepartment:null});case"OPEN_CHECKOUT_MODAL":return Object(m.a)({},e,{isCheckoutModalOpen:!0});case"OPEN_LOGIN_MODAL":return Object(m.a)({},e,{isLoginModalOpen:!0});case"OPEN_REGISTER_MODAL":return Object(m.a)({},e,{isRegisterModalOpen:!0});case"OPEN_PRODUCT_DETAIL_MODAL":return Object(m.a)({},e,{isProductDetailModalOpen:!0,selectedProductId:r.productId});case"CLOSE_CHECKOUT_MODAL":return Object(m.a)({},e,{isCheckoutModalOpen:!1});case"CLOSE_LOGIN_MODAL":return Object(m.a)({},e,{isLoginModalOpen:!1});case"CLOSE_REGISTER_MODAL":return Object(m.a)({},e,{isRegisterModalOpen:!1});case"CLOSE_PRODUCT_DETAIL_MODAL":return Object(m.a)({},e,{isProductDetailModalOpen:!1});default:return e}},checkout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case"UPDATE_FIRST_NAME":return Object(m.a)({},e,{firstName:r.firstName});case"UPDATE_LAST_NAME":return Object(m.a)({},e,{lastName:r.lastName});case"UPDATE_ADDRESS":return Object(m.a)({},e,{address:r.address});case"UPDATE_CITY":return Object(m.a)({},e,{city:r.city});case"UPDATE_STATE":return Object(m.a)({},e,{state:r.state});case"UPDATE_ZIPCODE":return Object(m.a)({},e,{zipCode:r.zipCode});case"UPDATE_SHIPPING_OPTION_ID":return Object(m.a)({},e,{shippingOptionId:parseInt(r.shippingOptionId,10)});default:return e}}}),y=Object(u.createStore)(v,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(l.a))),x=(n(129),n(1)),w=n.n(x),C=n(2),O=n(10),E=n(11),k=n(13),j=n(12),N=n(14),_=n(42),P=n(106),S=n.n(P),A=(n(132),n(46)),I=n.n(A),T=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a+=1){var o=n[a];if(e[o]!==t[o])return!1}return!0},D="vongdara-turing-token",z="https://backendapi.turing.com",R=function(){return new Headers({"Content-Type":"application/json"})},M=function(){var e=window.localStorage.getItem(D);return new Headers({"Content-Type":"application/json","user-key":e})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=encodeURIComponent,n=Object(m.a)({},e),r=Object.keys(n);if(r.forEach(function(e){void 0===n[e]&&delete n[e]}),(r=Object.keys(n)).length>0){var a=r.map(function(e){return"".concat(t(e),"=").concat(t(n[e]))}).join("&");return"?".concat(a)}return""},F={getAllCategories:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.order,r=t.page,a=t.limit,e.prev=1,e.next=4,fetch("".concat(z,"/categories").concat(L({order:n,page:r,limit:a})),{method:"get",headers:R()});case 4:return o=e.sent,e.next=7,o.json();case 7:return c=e.sent,i=c.rows,s=c.count,e.abrupt("return",{categories:i,count:s});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),getCategoryById:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.category_id,e.prev=1,e.next=4,fetch("".concat(z,"/categories/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),getCategoriesByProduct:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.product_id,e.prev=1,e.next=4,fetch("".concat(z,"/categories/inProduct/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),getCategoriesByDepartment:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.department_id,e.prev=1,e.next=4,fetch("".concat(z,"/categories/inDepartment/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(m.a)({},e),n=Object.keys(t),r=0;if(n.forEach(function(e){void 0===t[e]&&(delete t[e],r+=1)}),r!==n.length)return JSON.stringify(t)},B={getCustomer:function(){var e=Object(C.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/customer"),{method:"get",headers:M()});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.t0=e.sent,e.abrupt("return",{customer:e.t0});case 10:return e.prev=10,e.t1=e.catch(0),e.abrupt("return",{error:e.t1});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),updateCustomer:function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a,o,c,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,r=t.email,a=t.password,o=t.day_phone,c=t.eve_phone,i=t.mob_phone,e.prev=1,n&&r){e.next=4;break}throw new Error("Name and email are required to update profile");case 4:return e.next=6,fetch("".concat(z,"/customer"),{method:"put",headers:M(),body:q({name:n,email:r,password:a,day_phone:o,eve_phone:c,mob_phone:i})});case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),register:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.name,r=t.email,a=t.password,e.prev=1,e.next=4,fetch("".concat(z,"/customers"),{method:"post",headers:R(),body:q({name:n,email:r,password:a})});case 4:return o=e.sent,e.abrupt("return",o.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.email,r=t.password,e.prev=1,e.next=4,fetch("".concat(z,"/customers/login"),{method:"post",headers:R(),body:q({email:n,password:r})});case 4:return a=e.sent,e.abrupt("return",a.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),loginWithFacebook:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.accessToken,e.prev=1,e.next=4,fetch("".concat(z,"/customers/facebook"),{method:"post",headers:R(),body:q({access_token:n})});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),updateCustomerAddress:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u,l,d=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},n=t.address_1,r=t.address_2,a=t.city,o=t.region,c=t.postal_code,i=t.country,s=t.shipping_region_id,e.prev=1,void 0!==n&&void 0!==a&&void 0!==o&&void 0!==c&&void 0!==i&&void 0!==s){e.next=4;break}throw new Error("address_1, city, region, postal_code, country and shipping_region_id are required to update address");case 4:return e.next=6,fetch("".concat(z,"/customers/address"),{method:"put",headers:M(),body:q({address_1:n,address_2:r,city:a,region:o,postal_code:c,country:i,shipping_region_id:s})});case 6:return u=e.sent,e.next=9,u.json();case 9:if(!(l=e.sent).error){e.next=12;break}throw new Error(l.error.message);case 12:return e.abrupt("return",l);case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 18:case"end":return e.stop()}},e,null,[[1,15]])}));return function(){return e.apply(this,arguments)}}(),updateCustomerCreditCard:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.credit_card,e.prev=1,n){e.next=4;break}throw new Error("credit_card is required to update the credit card");case 4:return e.next=6,fetch("".concat(z,"/customers/creditCard"),{method:"put",headers:M(),body:q({credit_card:n})});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},U={getAllDepartments:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/departments"),{method:"get",headers:R()});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),getDepartmentById:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.department_id,e.prev=1,e.next=4,fetch("".concat(z,"/departments/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},W={createOrder:function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a,o,c,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cart_id,r=t.customer_id,a=t.shipping_id,o=t.tax_id,e.prev=1,e.next=4,fetch("".concat(z,"/orders"),{method:"post",headers:M(),body:q({cart_id:n,customer_id:r,shipping_id:a,tax_id:o})});case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),getOrderById:function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.order_id,e.prev=1,e.next=4,fetch("".concat(z,"/orders/").concat(n),{method:"get",headers:M()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),getOrdersOfCustomer:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/orders/inCustomer"),{method:"get",headers:M()});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),getShortDetailOrder:function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.order_id,e.prev=1,e.next=4,fetch("".concat(z,"/orders/shortDetail/").concat(n),{method:"get",headers:M()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()},G={getAllProducts:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.page,r=t.limit,a=t.description_length,e.prev=1,e.next=4,fetch("".concat(z,"/products").concat(L({page:n,limit:r,description_length:a})),{method:"get",headers:R()});case 4:return o=e.sent,e.next=7,o.json();case 7:return c=e.sent,i=c.rows,s=c.count,e.abrupt("return",{products:i,count:s});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),searchProducts:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u,l,d=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},n=t.query_string,r=t.all_words,a=t.page,o=t.limit,c=t.description_length,e.prev=1,e.next=4,fetch("".concat(z,"/products/search").concat(L({query_string:n,all_words:r,page:a,limit:o,description_length:c})),{method:"get",headers:R()});case 4:return i=e.sent,e.next=7,i.json();case 7:return s=e.sent,u=s.rows,l=s.count,e.abrupt("return",{products:u,count:l});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),getProductById:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.product_id,e.prev=1,e.next=4,fetch("".concat(z,"/products/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),getProductsByCategory:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u,l=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.category_id,r=t.page,a=t.limit,o=t.description_length,e.prev=1,e.next=4,fetch("".concat(z,"/products/inCategory/").concat(n).concat(L({category_id:n,page:r,limit:a,description_length:o})),{method:"get",headers:R()});case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,s=i.rows,u=i.count,e.abrupt("return",{products:s,count:u});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),getProductsByDepartment:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u,l=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.department_id,r=t.page,a=t.limit,o=t.description_length,e.prev=1,e.next=4,fetch("".concat(z,"/products/inDepartment/").concat(n).concat(L({department_id:n,page:r,limit:a,description_length:o})),{method:"get",headers:R()});case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,s=i.rows,u=i.count,e.abrupt("return",{products:s,count:u});case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),getProductDetails:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.product_id,e.prev=1,e.next=4,fetch("".concat(z,"/products/").concat(n,"/details"),{method:"get",headers:R()});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),getProductLocations:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.product_id,e.prev=1,e.next=4,fetch("".concat(z,"/products/").concat(n,"/locations"),{method:"get",headers:R()});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),getProductReviews:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.product_id,e.prev=1,e.next=4,fetch("".concat(z,"/products/").concat(n,"/reviews"),{method:"get",headers:R()});case 4:return r=e.sent,e.abrupt("return",r.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),postProductReviews:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.product_id,r=t.review,a=t.rating,e.prev=1,e.next=4,fetch("".concat(z,"/products/").concat(n,"/reviews").concat(L({product_id:n,review:r,rating:a})),{method:"post",headers:M()});case 4:return o=e.sent,e.abrupt("return",o.json());case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},V=function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/shoppingcart/generateUniqueId"),{method:"get",headers:R()});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n.cart_id,e.abrupt("return",{cart_id:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a,o,c,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cart_id,r=t.product_id,a=t.attributes,o=void 0===a?"":a,e.prev=1,e.next=4,fetch("".concat(z,"/shoppingcart/add"),{method:"post",headers:R(),body:q({cart_id:n,product_id:r,attributes:o})});case 4:return c=e.sent,i=c.json(),e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cart_id,e.prev=1,e.next=4,fetch("".concat(z,"/shoppingcart/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(C.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage[h]){e.next=7;break}return e.next=4,V();case 4:n=e.sent,t=n.cart_id,window.localStorage[h]=t;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!window.localStorage[h]){e.next=7;break}return t=window.localStorage[h],e.next=5,Z({cart_id:t});case 5:return n=e.sent,e.abrupt("return",n);case 7:return e.next=9,V();case 9:return r=e.sent,window.localStorage[h]=r,e.abrupt("return",[]);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.cart_id,e.prev=1,e.next=4,fetch("".concat(z,"/shoppingcart/empty/").concat(n),{method:"delete",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a,o,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item_id,r=t.cart_id,a=t.quantity,e.prev=1,e.next=4,fetch("".concat(z,"/shoppingcart/update/").concat(n),{method:"put",headers:R(),body:q({cart_id:r,quantity:a})});case 4:return o=e.sent,e.next=7,o.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),J={generateCartId:V,addItemToCart:H,getCart:Y,getCartById:Z,getCartId:$,emptyCart:Q,removeItemFromCart:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=t.item_id,e.prev=1,e.next=4,fetch("".concat(z,"/shoppingcart/removeProduct/").concat(n),{method:"delete",headers:R()});case 4:return r=e.sent,e.abrupt("return",200===r.status);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),updateItemInCart:K},X={stripeCharge:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o,c,i,s,u=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.stripeToken,r=t.order_id,a=t.description,o=t.amount,c=t.currency,e.prev=1,e.next=4,fetch("".concat(z,"/stripe/charge"),{method:"post",headers:R(),body:q({stripeToken:n,order_id:r,description:a,amount:o,currency:c})});case 4:return i=e.sent,e.next=7,i.json();case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},ee={getAllTaxes:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/tax"),{method:"get",headers:R()});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),getTaxById:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.tax_id,e.prev=1,e.next=4,fetch("".concat(z,"/tax/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},te={getAllShippingRegions:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/shipping/regions"),{method:"get",headers:R()});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),getShippingOptionsByRegionId:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n,r,a,o=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.shipping_region_id,e.prev=1,e.next=4,fetch("".concat(z,"/shipping/regions/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},ne={getAllAttributes:function(){var e=Object(C.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(z,"/attributes"),{method:"get",headers:R()});case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).error){e.next=9;break}throw new Error(n.error.message);case 9:return e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),getAttributesByProductId:function(){var e=Object(C.a)(w.a.mark(function e(t){var n,r,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.product_id,e.prev=1,e.next=4,fetch("".concat(z,"/attributes/inProduct/").concat(n),{method:"get",headers:R()});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(a=e.sent)||!a.error){e.next=10;break}throw new Error(a.error.message);case 10:return e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t){return e.apply(this,arguments)}}()},re=Object(m.a)({},ne,F,U,G,te,ee),ae=Object(m.a)({},re,B,J,X,W,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach(function(r){var a=e[r];t.includes(r)?n[r]=a:n[r]=I()(a,{equals:T})}),n}(re)),oe=function(e){return{type:"STORE_CART",payload:{cart:e}}},ce=function(){return function(){var e=Object(C.a)(w.a.mark(function e(t,n){var r,a,o,c,i,s,u,l,d,p;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=n(),a=r.cart,o=Object.keys(a),c=[],e.prev=3,i=0;i<o.length;i+=1)s=o[i],u=a[s],l=u.quantity,d=u.item_id,c.push(ae.updateItemInCart({item_id:d,quantity:l}));return e.next=7,Promise.all(c);case 7:return e.next=9,ae.getCart();case 9:return p=e.sent,t(oe(p)),e.abrupt("return",p);case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",{error:e.t0});case 17:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t,n){return e.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(C.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:clearTimeout(r),n({type:"INCREMENT_ITEM_IN_CART",payload:{name:e}}),r=setTimeout(function(){return n(ce())},800);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(C.a)(w.a.mark(function t(n){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:clearTimeout(r),n({type:"DECREMENT_ITEM_IN_CART",payload:{name:e}}),r=setTimeout(function(){return n(ce())},800);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ue=n(4),le=n(5),de=function(e){return{type:"STORE_USER",payload:{user:e.user}}},pe=function(e){var t=e.name,n=e.email,r=e.password;return function(){var e=Object(C.a)(w.a.mark(function e(a){var o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.register({name:t,email:n,password:r});case 2:return(o=e.sent).customer&&(window.localStorage[D]=o.accessToken,a(de({user:o.customer}))),e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},me=function(e){var t=e.email,n=e.password;return function(){var e=Object(C.a)(w.a.mark(function e(r){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.login({email:t,password:n});case 2:return(a=e.sent).customer&&(window.localStorage[D]=a.accessToken,r(de({user:a.customer}))),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},he=function(e){var t=e.accessToken;return function(){var e=Object(C.a)(w.a.mark(function e(n){var r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.loginWithFacebook({accessToken:t});case 2:return(r=e.sent).customer&&(window.localStorage[D]=r.accessToken,n(de({user:r.customer}))),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(C.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete window.localStorage[D],t({type:"CLEAR_USER"});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ge=function(e){return{type:"STORE_CATEGORIES",payload:{categories:e}}},be=function(e){return{type:"STORE_DEPARTMENTS",payload:{departments:e}}},ve=function(){return{type:"CLOSE_CHECKOUT_MODAL"}},ye=function(){return{type:"CLOSE_PRODUCT_DETAIL_MODAL"}},xe=function(e){return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return e.quantity>0})},we=n(109),Ce=n.n(we);function Oe(){var e=Object(ue.a)(["\n    font-family: ",";\n    font-weight: 300;\n    font-size: 16px;\n    color: #6c6c6c;\n\n    small {\n        font-size: 12px;\n    }\n\n    h1 {\n        font-family: ",";\n        font-size: 48px;\n        color: #2e2e2e;\n        line-height: 150%;\n    }\n\n    h2 {\n        font-family: ",";\n        font-size: 24px;\n        color: #2e2e2e;\n        line-height: 150%;\n    }\n\n    h3 {\n        font-family: ",";\n        font-size: 16px;\n        color: #2e2e2e;\n        line-height: 150%;\n    }\n\n    .topbar {\n        font-family: ",";\n        font-weight: 600;\n        font-size: 15px;\n        color: #2e2e2e;\n        line-height: 240%;\n    }\n\n    .sub-header {\n        font-family: ",";\n        font-weight: 600;\n        font-size: 15px;\n        color: #2e2e2e;\n    }\n\n    .facebook-auto-login {\n        display: none;\n    }\n"]);return Oe=function(){return e},e}var Ee=le.b.div(Oe(),"'Open Sans', sans-serif","'Playfair Display', serif","'Montserrat', sans-serif","'Montserrat', sans-serif","'Montserrat', sans-serif","'Montserrat', sans-serif");function ke(){var e=Object(ue.a)(["\n    overflow: auto;\n    background-color: white;\n    max-width: 760px;\n    width: 100%;\n    margin: 24px auto;\n"]);return ke=function(){return e},e}var je=Object(le.b)(Ee)(ke()),Ne=function(e){var t=e.children,n=e.className;return o.a.createElement(Ce.a,Object.assign({},e,{className:"modal"}),o.a.createElement(je,{className:n},t))};Ne.defaultProps={className:void 0,children:void 0};var _e=Ne,Pe=n(59),Se=n.n(Pe),Ae=n(110),Ie=n.n(Ae),Te=n(60),De=n.n(Te);function ze(){var e=Object(ue.a)(["\n    margin: 4px 0;\n    text-align: left;\n\n    .form-label {\n        color: #b7b7b7;\n        font-size: 15px;\n        font-family: 'Montserrat', sans-serif;\n        font-weight: 700;\n    }\n\n    .form-input {\n        display: block;\n        width: 100%;\n        margin-top: 4px;\n        color: #6c6c6c;\n\n        input {\n            font-family: 'Open Sans', sans-serif;\n            font-size: 16px;\n            border-radius: 4px;\n            position: relative;\n            background-color: white;\n            border: 1px solid #ced4da;\n            box-sizing: border-box;\n            padding: 10px 26px 10px 12px;\n            height: fit-content;\n        }\n    }\n\n    &.error {\n        .form-label,\n        input {\n            color: #f44336;\n            border-color: #f44336;\n        }\n    }\n"]);return ze=function(){return e},e}var Re=le.b.div(ze()),Me=function(e){var t=e.label,n=e.required,r=e.error,a=e.inputProps,c=a.id,i=a.className,s=e.inputProps,u=r?"error":"",l="form-input ".concat(i||""," ").concat(u);return o.a.createElement(Re,{className:"form-input-group ".concat(u)},t&&o.a.createElement(Ie.a,{className:"form-label",htmlFor:c},"".concat(t," ").concat(n?"*":"")),o.a.createElement(De.a,Object.assign({},s,{className:l})))};Me.defaultProps={label:void 0,error:!1,required:!1};var Le=Me,Fe=n(111),qe=n.n(Fe);function Be(){var e=Object(ue.a)(["\n    border-radius: 24px !important;\n    text-transform: unset !important;\n    padding: 8px 24px !important;\n    font-size: 15px !important;\n    font-weight: 600 !important;\n    min-width: 140px !important;\n\n    span {\n        font-family: "," !important;\n        text-transform: unset;\n    }\n\n    &.primary {\n        background-color: ",";\n        color: ",";\n    }\n\n    &.secondary {\n        background-color: ",";\n        color: ",";\n    }\n\n    &.btn-large {\n        padding: 16px 48px !important;\n        border-radius: 48px !important;\n        min-width: 160px !important;\n    }\n"]);return Be=function(){return e},e}var Ue=Object(le.b)(qe.a)(Be(),"'Open Sans', sans-serif","#f62f5e","white","white","#f62f5e");function We(){var e=Object(ue.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 24px;\n\n    .social-media-header {\n        margin-top: 24px;\n        text-align: center;\n    }\n\n    button {\n        min-width: 200px;\n    }\n\n    #btn-login {\n        margin-top: 24px;\n    }\n\n    #btn-login-facebook {\n        background-color: #3c5a99;\n        color: white;\n    }\n\n    .form-input-group {\n        margin: 6px 0;\n        max-width: 240px;\n        width: 100%;\n\n        input {\n            text-align: center;\n        }\n    }\n"]);return We=function(){return e},e}var Ge=le.b.div(We()),Ve=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleLogin=function(){var e=n.state,t=e.email,r=e.password;(0,n.props.onClickLogin)({email:t,password:r})},n.handleChangeEmail=function(e){n.setState({email:e.target.value})},n.handleChangePassword=function(e){n.setState({password:e.target.value})},n.state={email:"",password:""},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onFacebookAccountRetrieved,n=e.className,r=e.id,a=this.state,c=a.email,i=a.password;return o.a.createElement(Ge,{id:r,className:n},o.a.createElement("h2",null,"Sign in"),o.a.createElement(Le,{inputProps:{id:"email",placeholder:"Email",name:"email",value:c,onChange:this.handleChangeEmail}}),o.a.createElement(Le,{inputProps:{id:"password",placeholder:"Password",name:"password",value:i,onChange:this.handleChangePassword,type:"password"}}),o.a.createElement(Ue,{id:"btn-login",className:"primary",onClick:this.handleLogin,disabled:!(c&&i)},"Sign In"),o.a.createElement("h3",{className:"social-media-header"},"Sign in with your social media account"),o.a.createElement(Se.a,{appId:"352854622106208",fields:"name,email,picture",callback:t,render:function(e){var t=e.onClick;return o.a.createElement(Ue,{id:"btn-login-facebook",onClick:t},"Facebook")}}))}}]),t}(a.Component);Ve.defaultProps={id:void 0,className:void 0};var He=Ve,Ze=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleLogin=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,o=n.props,c=o.login,i=o.onLogin,e.next=4,c({email:r,password:a});case 4:e.sent.customer&&i();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleLoginWithFacebook=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.accessToken,a=n.props,o=a.loginWithFacebook,c=a.onLoginWithFacebook,e.next=4,o({accessToken:r});case 4:e.sent.customer&&c();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.className;return o.a.createElement(He,{className:e,id:"login-modal-view",onClickLogin:this.handleLogin,onFacebookAccountRetrieved:this.handleLoginWithFacebook})}}]),t}(a.Component);Ze.defaultProps={className:void 0};var $e={login:me,loginWithFacebook:he},Ye=Object(u.compose)(Object(s.b)(void 0,$e))(Ze);function Qe(){var e=Object(ue.a)(["\n    width: 100%;\n    max-width: 360px;\n"]);return Qe=function(){return e},e}var Ke=Object(le.b)(_e)(Qe()),Je={onClose:function(){return{type:"CLOSE_LOGIN_MODAL"}}},Xe=Object(s.b)(function(e){return{open:e.main.isLoginModalOpen}},Je)(function(e){var t=e.open,n=e.onClose;return o.a.createElement(Ke,{open:t,onClose:n},o.a.createElement(Ye,{onLogin:n,onLoginWithFacebook:n}))}),et=I()(function(e,t){return e&&t&&e===t});function tt(){var e=Object(ue.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 24px;\n\n    .social-media-header {\n        margin-top: 24px;\n        text-align: center;\n    }\n\n    button {\n        min-width: 200px;\n    }\n\n    #btn-login {\n        margin-top: 24px;\n    }\n\n    #btn-login-facebook {\n        background-color: #3c5a99;\n        color: white;\n    }\n\n    .form-input-group {\n        margin: 6px 0;\n        max-width: 240px;\n        width: 100%;\n\n        input {\n            text-align: center;\n        }\n    }\n\n    .error-message {\n        color: red;\n    }\n"]);return tt=function(){return e},e}var nt=le.b.div(tt()),rt=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleRegister=function(){var e=n.state,t=e.name,r=e.email,a=e.password,o=e.error,c=n.props.onClickRegister;o||c({name:t,email:r,password:a})},n.handleChangeName=function(e){n.setState({name:e.target.value})},n.handleChangeEmail=function(e){n.setState({email:e.target.value})},n.handleChangePassword=function(e){n.setState({password:e.target.value})},n.handleChangeConfirmPassword=function(e){var t=e.target.value,r=n.state,a=r.password,o=r.error;t===a||o||n.setState({error:"The passwords must match"}),t===a&&o&&n.setState({error:""}),n.setState({confirmPassword:t})},n.state={name:"",email:"",password:"",confirmPassword:""},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onFacebookAccountRetrieved,n=e.className,r=e.id,a=this.state,c=a.name,i=a.email,s=a.password,u=a.confirmPassword,l=a.error;return o.a.createElement(nt,{id:r,className:n},o.a.createElement("h2",null,"Sign up"),o.a.createElement(Le,{inputProps:{id:"name",placeholder:"Name",name:"name",value:c,onChange:this.handleChangeName}}),o.a.createElement(Le,{inputProps:{id:"email",placeholder:"Email",name:"email",value:i,onChange:this.handleChangeEmail}}),o.a.createElement(Le,{inputProps:{id:"password",placeholder:"Password",name:"password",value:s,onChange:this.handleChangePassword,type:"password"},error:!!l}),o.a.createElement(Le,{inputProps:{id:"confirm-password",placeholder:"Confirm password",name:"confirmPassword",value:u,onChange:this.handleChangeConfirmPassword,type:"password"},error:!!l}),o.a.createElement("small",{className:"error-message"},l),o.a.createElement(Ue,{id:"btn-login",className:"primary",onClick:this.handleRegister,disabled:!et(s,u)},"Sign up"),o.a.createElement("h3",{className:"social-media-header"},"Sign up with your social media account"),o.a.createElement(Se.a,{appId:"352854622106208",fields:"name,email,picture",callback:t,render:function(e){var t=e.onClick;return o.a.createElement(Ue,{id:"btn-login-facebook",onClick:t},"Facebook")}}))}}]),t}(a.Component);rt.defaultProps={id:void 0,className:void 0};var at=rt,ot=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleRegister=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.email,o=t.password,c=n.props,i=c.registerAccount,s=c.onRegister,e.next=4,i({name:r,email:a,password:o});case 4:e.sent.customer&&s();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleRegisterWithFacebook=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.accessToken,a=n.props,o=a.loginWithFacebook,c=a.onRegisterWithFacebook,!r){e.next=7;break}return e.next=5,o({accessToken:r});case 5:e.sent.customer&&c();case 7:case"end":return e.stop()}},e)})),n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(at,{id:"login-modal-view",onClickRegister:this.handleRegister,onFacebookAccountRetrieved:this.handleRegisterWithFacebook})}}]),t}(a.Component),ct={registerAccount:pe,loginWithFacebook:he},it=Object(u.compose)(Object(s.b)(void 0,ct))(ot);function st(){var e=Object(ue.a)(["\n    width: 100%;\n    max-width: 360px;\n"]);return st=function(){return e},e}var ut=Object(le.b)(_e)(st()),lt={onClose:function(){return{type:"CLOSE_REGISTER_MODAL"}}},dt=Object(s.b)(function(e){return{open:e.main.isRegisterModalOpen}},lt)(function(e){var t=e.open,n=e.onClose;return o.a.createElement(ut,{open:t,onClose:n},o.a.createElement(it,{onRegister:n,onRegisterWithFacebook:n}))}),pt=n(41),mt=n.n(pt),ht=n(28),ft=n.n(ht),gt=n(40),bt=n(73),vt=n(115),yt=n.n(vt),xt=n(113),wt=n.n(xt),Ct=n(114),Ot=n.n(Ct),Et=n(112),kt=n.n(Et);function jt(){var e=Object(ue.a)(["\n    padding: 0 18px;\n    padding-top: 48px;\n\n    hr {\n        border: none;\n        margin-top: 48px;\n        margin-bottom: 16px;\n        height: 2px;\n        background-color: #e4e4e4;\n    }\n    .form-address {\n        display: flex;\n        flex-direction: column;\n\n        .form-row {\n            display: flex;\n        }\n\n        .form-col {\n            width: 50%;\n            border-color: #b4b4b4;\n            box-sizing: border-box;\n        }\n\n        .col-left {\n            padding-right: 8px;\n        }\n\n        .col-right {\n            padding-left: 8px;\n        }\n    }\n\n    .form-delivery-options {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .radio-group-delivery-options {\n        display: flex;\n        flex-direction: row;\n    }\n\n    .delivery-options-section {\n        margin-bottom: 24px;\n    }\n"]);return jt=function(){return e},e}var Nt=le.b.div(jt()),_t=function(e){var t=e.firstName,n=e.lastName,r=e.address,a=e.city,c=e.state,i=e.zipCode,s=e.country,u=e.shippingOptions,l=e.shippingOptionId,d=e.onChangeAddress,p=e.onChangeCity,m=e.onChangeFirstName,h=e.onChangeLastName,f=e.onChangeState,g=e.onChangeZipCode,b=e.onChangeCountry,v=e.onChangeShippingOptionId;return o.a.createElement(Nt,{id:"delivery-view",className:"checkout-view"},o.a.createElement("h2",null,"Shipping Address"),o.a.createElement("div",{className:"form-address"},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"form-col col-left"},o.a.createElement(Le,{required:!0,label:"First name",inputProps:{id:"first-name",name:"firstName",value:t,onChange:m}})),o.a.createElement("div",{className:"form-col col-right"},o.a.createElement(Le,{required:!0,label:"Last name",inputProps:{id:"last-name",name:"lastName",value:n,onChange:h}}))),o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"form-col col-left"},o.a.createElement(Le,{required:!0,label:"Address",inputProps:{id:"address",name:"address",value:r,onChange:d}})),o.a.createElement("div",{className:"form-col col-right"},o.a.createElement(Le,{required:!0,label:"City",inputProps:{id:"city",name:"city",value:a,onChange:p}}))),o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"form-col col-left"},o.a.createElement(Le,{required:!0,label:"State",inputProps:{id:"state",name:"state",value:c,onChange:f}})),o.a.createElement("div",{className:"form-col col-right"},o.a.createElement(Le,{required:!0,label:"ZIP code",inputProps:{id:"zipCode",name:"zipCode",value:i,onChange:g}})))),o.a.createElement("div",{className:"form-address"},o.a.createElement("div",{className:"form-col col-left"},o.a.createElement(Le,{required:!0,label:"Country",inputProps:{id:"country",name:"country",value:s,onChange:b,disabled:!0}}))),o.a.createElement("hr",null),o.a.createElement("div",{className:"delivery-options-section"},o.a.createElement("h2",null,"Delivery Options"),u.length>0&&o.a.createElement(kt.a,{className:"form-delivery-options",component:"fieldset"},o.a.createElement(wt.a,{className:"radio-group-delivery-options","aria-label":"Delivery Options",name:"deliveryOptions",value:"".concat(l),onChange:v},u.map(function(e){return o.a.createElement(Ot.a,{key:e.shipping_id,label:e.shipping_type,value:"".concat(e.shipping_id),control:o.a.createElement(yt.a,null)})}))),0===u.length&&o.a.createElement("div",null,"There are no shipping options")))};_t.defaultProps={firstName:"",lastName:"",address:"",city:"",state:"",zipCode:"",country:"",shippingOptions:[],shippingOptionId:void 0,onChangeCountry:void 0};var Pt=_t,St=function(e){return{type:"UPDATE_FIRST_NAME",payload:{firstName:e}}},At=function(e){return{type:"UPDATE_LAST_NAME",payload:{lastName:e}}},It=function(e){return{type:"UPDATE_ADDRESS",payload:{address:e}}},Tt=function(e){return{type:"UPDATE_CITY",payload:{city:e}}},Dt=function(e){return{type:"UPDATE_STATE",payload:{state:e}}},zt=function(e){return{type:"UPDATE_ZIPCODE",payload:{zipCode:e}}},Rt=function(e){return{type:"UPDATE_SHIPPING_OPTION_ID",payload:{shippingOptionId:e}}};function Mt(){var e=Object(ue.a)(["\n    background-color: #efefef;\n    padding: 24px 0;\n\n    .view-footer-btn-container {\n        display: flex;\n        justify-content: space-between;\n        padding: 0 18px;\n    }\n"]);return Mt=function(){return e},e}var Lt=le.b.div(Mt()),Ft=function(e){var t=e.className,n=e.labelPrimary,r=e.labelSecondary,a=e.btnPropsSecondary,c=(a=void 0===a?{}:a).className,i=void 0===c?"secondary":c,s=e.btnPropsSecondary,u=e.btnPropsPrimary,l=(u=void 0===u?{}:u).className,d=void 0===l?"primary":l,p=e.btnPropsPrimary;return o.a.createElement(Lt,{className:"view-footer ".concat(t||"")},o.a.createElement("div",{className:"view-footer-btn-container"},o.a.createElement(Ue,Object.assign({},s,{className:i}),r),o.a.createElement(Ue,Object.assign({},p,{className:d}),n)))};Ft.defaultProps={className:void 0,btnPropsPrimary:void 0,btnPropsSecondary:void 0};var qt=Ft,Bt=function(e){function t(e){var n;Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).componentDidMount=Object(C.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 2,e.next=3,ae.getShippingOptionsByRegionId({shipping_region_id:2});case 3:t=e.sent,n.setState({shippingOptions:t});case 5:case"end":return e.stop()}},e)})),n.componentWillReceiveProps=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c,i,s,u,l,d,p,m,h,f,g,b,v,y,x,C,O,E,k,j,N,_,P,S,A,I,T;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.user,a=t.firstName,o=t.lastName,c=t.address,i=t.city,s=t.state,u=t.zipCode,l=t.country,d=n.props,p=d.firstName,m=d.lastName,h=d.address,f=d.city,g=d.state,b=d.zipCode,v=d.country,r&&(y=t.changeFirstName,x=t.changeLastName,C=t.changeAddress,O=t.changeCity,E=t.changeState,k=t.changeZipCode,j=r.address_1,N=r.city,_=r.region,P=r.postal_code,S=r.name.split(" "),A=Object(bt.a)(S,2),I=A[0],T=A[1],!a&&I&&y(I),!o&&T&&x(T),!c&&j&&C(j),!i&&N&&O(N),!s&&_&&E(_),!u&&P&&k(P)),a===p&&o===m&&c===h&&i===f&&s===g&&u===b&&l===v||n.validateForm({firstName:a,lastName:o,address:c,city:i,state:s,zipCode:u,country:l});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleChangeFirstName=function(e){(0,n.props.changeFirstName)(e.target.value)},n.handleChangeLastName=function(e){(0,n.props.changeLastName)(e.target.value)},n.handleChangeAddress=function(e){(0,n.props.changeAddress)(e.target.value)},n.handleChangeCity=function(e){(0,n.props.changeCity)(e.target.value)},n.handleChangeState=function(e){(0,n.props.changeState)(e.target.value)},n.handleChangeZipCode=function(e){(0,n.props.changeZipCode)(e.target.value)},n.handleChangeShippingOptionId=function(e){(0,n.props.changeShippingOptionId)(e.target.value)},n.handleGoNext=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.address,a=t.city,o=t.state,c=t.zipCode,i=t.country,s=t.user,u=t.onClickNext,!s){e.next=4;break}return e.next=4,ae.updateCustomerAddress({address_1:r||s.address_1,city:a||s.city,region:o||s.region,postal_code:c||s.postal_code,country:i||s.country,shipping_region_id:s.shipping_region_id});case 4:u();case 5:case"end":return e.stop()}},e)})),n.handleGoBack=function(){},n.isFormValid=function(e){var t=e.firstName,n=e.lastName,r=e.address,a=e.city,o=e.state,c=e.zipCode,i=e.country;return!!(t&&n&&r&&a&&o&&c&&i)},n.validateForm=function(e){var t=n.state,r=t.firstName,a=t.lastName,o=t.address,c=t.city,i=t.state,s=t.zipCode,u=t.country,l=t.btnPropsPrimary;n.setState({btnPropsPrimary:Object(m.a)({},l,{disabled:!n.isFormValid(Object(m.a)({firstName:r,lastName:a,address:o,city:c,state:i,zipCode:s,country:u},e))})})};var r=e.onClickBack,a=e.firstName,o=e.lastName,c=e.address,i=e.city,s=e.state,u=e.zipCode,l=e.country;return n.state={shippingOptions:[],btnPropsPrimary:{onClick:n.handleGoNext,disabled:!n.isFormValid({firstName:a,lastName:o,address:c,city:i,state:s,zipCode:u,country:l})},btnPropsSecondary:{onClick:r}},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.firstName,r=e.lastName,a=e.address,c=e.city,i=e.state,s=e.zipCode,u=e.country,l=e.shippingOptionId,d=this.state,p=d.shippingOptions,m=d.btnPropsPrimary,h=d.btnPropsSecondary;return o.a.createElement("div",{className:t},o.a.createElement(Pt,{firstName:n,lastName:r,address:a,city:c,state:i,zipCode:s,country:u,shippingOptionId:l,shippingOptions:p,onChangeAddress:this.handleChangeAddress,onChangeCity:this.handleChangeCity,onChangeFirstName:this.handleChangeFirstName,onChangeLastName:this.handleChangeLastName,onChangeState:this.handleChangeState,onChangeZipCode:this.handleChangeZipCode,onChangeCountry:this.handleChangeCountry,onChangeShippingOptionId:this.handleChangeShippingOptionId}),o.a.createElement(qt,{labelPrimary:"Next Step",labelSecondary:"Back",btnPropsPrimary:m,btnPropsSecondary:h}))}}]),t}(a.Component);Bt.defaultProps={className:void 0,firstName:void 0,lastName:void 0,address:void 0,city:void 0,state:void 0,zipCode:void 0,country:void 0,user:void 0};var Ut={changeFirstName:St,changeLastName:At,changeAddress:It,changeCity:Tt,changeZipCode:zt,changeState:Dt,changeShippingOptionId:Rt},Wt=Object(s.b)(function(e){var t=e.checkout,n=e.main.user,r=n||{},a=r.name,o=void 0===a?"":a,c=r.address_1,i=r.city,s=r.region,u=r.postal_code,l=r.country,d=o.split(" "),p=Object(bt.a)(d,2),m=p[0],h=p[1];return{firstName:t.firstName||m,lastName:t.lastName||h,address:t.address||c,city:t.city||i,state:t.state||s,zipCode:t.zipCode||u,country:t.country||l,shippingOptionId:t.shippingOptionId,addressForm:t,user:n}},Ut)(Bt);function Gt(){var e=Object(ue.a)(["\n    padding-top: 48px;\n\n    hr {\n        border: none;\n        margin-top: 48px;\n        margin-bottom: 16px;\n        height: 2px;\n        background-color: #e4e4e4;\n        width: calc(100% - 36px);\n    }\n\n    .summary-header {\n        padding: 0 18px;\n    }\n\n    .row-summary,\n    .row-cost {\n        display: flex;\n        flex-direction: row;\n    }\n\n    .section-order-summary {\n        padding-right: 48px;\n    }\n\n    .section-order-summary,\n    .section-sub-total {\n        width: 60%;\n        box-sizing: border-box;\n    }\n\n    .section-delivery-summary,\n    .section-grand-total {\n        width: 40%;\n        box-sizing: border-box;\n    }\n\n    .section-sub-total {\n        display: flex;\n        justify-content: flex-end;\n    }\n\n    .section-grand-total {\n        .col-fee-summary {\n            width: fit-content;\n            .sub-header {\n                font-size: 20px;\n            }\n        }\n    }\n\n    .section-cart-summary {\n        display: flex;\n        flex-direction: column;\n\n        .line-item:nth-child(even) {\n            background-color: #f7f7f7;\n        }\n    }\n\n    .section-address,\n    .section-delivery-option {\n        padding: 6px 18px;\n    }\n\n    .line-item {\n        display: flex;\n        flex-direction: row;\n        padding: 12px 18px;\n        font-weight: 300;\n\n        .col-line-item {\n            text-align: center;\n            padding: 0 4px;\n        }\n\n        .col-item {\n            display: flex;\n            flex: 1;\n            text-align: left;\n        }\n\n        .col-qty {\n            width: 64px;\n        }\n\n        .col-price {\n            width: 64px;\n        }\n\n        .col-price-value {\n            color: ",";\n            font-weight: bold;\n        }\n    }\n\n    .row-item-header {\n        color: #b4b4b4;\n        font-weight: bold;\n    }\n\n    .row-cost {\n        margin-bottom: 24px;\n\n        .row-item-header {\n            padding: 6px 18px;\n        }\n        .col-fee-summary {\n            text-align: left;\n            .sub-header {\n                padding-left: 18px;\n            }\n        }\n    }\n"]);return Gt=function(){return e},e}var Vt=le.b.div(Gt(),"#f62f5e"),Ht=function(e){var t=e.address,n=e.city,r=e.state,a=e.zipCode,c=e.country,i=e.shippingOption,s=e.cart,u=e.subtotal,l=e.grandTotal;return o.a.createElement(Vt,{id:"confirmation-view",className:"checkout-view"},o.a.createElement("div",{className:"row-summary"},o.a.createElement("div",{className:"section-order-summary"},o.a.createElement("div",{className:"sub-header summary-header"},"Order Summary"),o.a.createElement("div",{className:"section-cart-summary"},o.a.createElement("div",{className:"line-item row-item-header"},o.a.createElement("div",{className:"col-line-item col-item"},"Item"),o.a.createElement("div",{className:"col-line-item col-qty"},"Qty"),o.a.createElement("div",{className:"col-line-item col-price"},"Price")),s.map(function(e){return o.a.createElement("div",{key:e.name,className:"line-item"},o.a.createElement("div",{className:"col-line-item col-item"},e.name),o.a.createElement("div",{className:"col-line-item col-qty"},e.quantity),o.a.createElement("div",{className:"col-line-item col-price col-price-value"},"$".concat(e.subtotal)))}))),o.a.createElement("div",{className:"section-delivery-summary"},o.a.createElement("div",{className:"sub-header summary-header"},"Delivery"),o.a.createElement("div",{className:"line-item row-item-header"},o.a.createElement("div",{className:"col-line-item"},"Address")),o.a.createElement("div",{className:"section-address"},o.a.createElement("div",null,t),o.a.createElement("div",null,n,r?", ".concat(r):"",a?", ".concat(a):""),o.a.createElement("div",null,c)),o.a.createElement("div",{className:"line-item row-item-header"},o.a.createElement("div",{className:"col-line-item"},"Delivery option")),o.a.createElement("div",{className:"section-delivery-option"},i.shipping_type)),o.a.createElement("div",null)),o.a.createElement("hr",null),o.a.createElement("div",{className:"row-cost"},o.a.createElement("div",{className:"section-sub-total"},o.a.createElement("div",{className:"col-fee-summary"},o.a.createElement("div",{className:"line-item row-item-header"},"Sub total"),o.a.createElement("div",{className:"sub-header"},"$".concat(u))),o.a.createElement("div",{className:"col-fee-summary"},o.a.createElement("div",{className:"line-item row-item-header"},"Shipping fee"),o.a.createElement("div",{className:"sub-header"},i.shipping_cost?"$".concat(i.shipping_cost):"free"))),o.a.createElement("div",{className:"section-grand-total"},o.a.createElement("div",{className:"col-fee-summary"},o.a.createElement("div",{className:"line-item row-item-header"},"Grand total"),o.a.createElement("div",{className:"sub-header"},"$".concat(l))))))},Zt=function(e){function t(e){var n;Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).componentDidMount=Object(C.a)(w.a.mark(function e(){var t,r,a,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.shippingOptionId,2,e.next=4,ae.getShippingOptionsByRegionId({shipping_region_id:2});case 4:r=e.sent,o=0;case 6:if(!(o<r.length)){e.next=13;break}if(r[o].shipping_id!==t){e.next=10;break}return a=r[o],e.abrupt("break",13);case 10:o+=1,e.next=6;break;case 13:n.setState({shippingOption:a});case 14:case"end":return e.stop()}},e)})),n.getGrandTotal=function(){var e=n.state,t=e.shippingOption,r=e.subtotal,a=r;return t&&(a=parseFloat(r)+parseFloat(t.shipping_cost)),a.toFixed(2)};var r=e.cart,a=e.onClickBack,o=e.onClickPay,c=0;return r.forEach(function(e){c+=parseFloat(e.subtotal)}),n.state={subtotal:c.toFixed(2),shippingOption:{},btnPropsPrimary:{onClick:o},btnPropsSecondary:{onClick:a}},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.address,r=e.city,a=e.state,c=e.zipCode,i=e.country,s=e.cart,u=this.state,l=u.subtotal,d=u.shippingOption,p=u.btnPropsPrimary,m=u.btnPropsSecondary;return o.a.createElement("div",{className:t},o.a.createElement(Ht,{address:n,city:r,state:a,zipCode:c,country:i,shippingOption:d,cart:s,subtotal:l,grandTotal:this.getGrandTotal()}),o.a.createElement(qt,{labelPrimary:"Next Step",labelSecondary:"Back",btnPropsPrimary:p,btnPropsSecondary:m}))}}]),t}(a.Component);Zt.defaultProps={className:void 0,user:void 0};var $t={changeFirstName:St,changeLastName:At,changeAddress:It,changeCity:Tt,changeZipCode:zt,changeState:Dt,changeShippingOptionId:Rt},Yt=Object(s.b)(function(e){return{firstName:e.checkout.firstName,lastName:e.checkout.lastName,address:e.checkout.address,city:e.checkout.city,state:e.checkout.state,zipCode:e.checkout.zipCode,country:e.checkout.country,shippingOptionId:e.checkout.shippingOptionId,user:e.main.user,cart:xe(e.cart)}},$t)(Zt);function Qt(){var e=Object(ue.a)(["\n    max-width: 500px;\n    width: 100%;\n    padding: 48px 18px;\n    box-sizing: border-box;\n\n    .StripeElement {\n        box-sizing: border-box;\n\n        height: 40px;\n\n        padding: 10px 12px;\n\n        border: 1px solid transparent;\n        border-radius: 4px;\n        background-color: white;\n\n        box-shadow: 0 1px 3px 0 #e6ebf1;\n        -webkit-transition: box-shadow 150ms ease;\n        transition: box-shadow 150ms ease;\n    }\n\n    .StripeElement--focus {\n        box-shadow: 0 1px 3px 0 #cfd7df;\n    }\n\n    .StripeElement--invalid {\n        border-color: #fa755a;\n    }\n\n    .StripeElement--webkit-autofill {\n        background-color: #fefde5 !important;\n    }\n\n    .error {\n        color: #f44336;\n    }\n"]);return Qt=function(){return e},e}var Kt={base:{color:"#32325d",fontFamily:"".concat("'Open Sans', sans-serif"),fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},Jt=le.b.div(Qt()),Xt=function(e){var t=e.error;return o.a.createElement(Jt,{id:"payment-view",className:"checkout-view"},o.a.createElement("div",{className:"sub-header"},"Enter your payment information"),o.a.createElement(gt.CardElement,{style:Kt}),t&&o.a.createElement("small",{className:"error"},t))};Xt.defaultProps={error:void 0};var en=Xt,tn=function(e){function t(e){var n;Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleCheckout=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c,i,s,u,l,d,p,m,h,f,g,b,v,y,x,C,O,E;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props,a=r.stripe,o=r.onSuccess,c=r.onFailure,i=r.firstName,s=r.lastName,u=r.address,l=r.city,d=r.state,p=r.zipCode,m=r.country,h=r.shippingOptionId,e.prev=2,e.next=5,a.createToken({name:"".concat(i," ").concat(s).trim(),address_line1:u,address_city:l,address_state:d,address_zip:p,address_country:m});case 5:if(f=e.sent,g=f.token,!(b=f.error)){e.next=10;break}throw new Error(b.message);case 10:return e.next=12,ae.getCartId();case 12:return v=e.sent,e.next=15,ae.createOrder({cart_id:v,shipping_id:h,tax_id:2});case 15:if(y=e.sent,x=y.orderId,!(C=y.error)){e.next=20;break}throw new Error(C.message);case 20:return e.next=22,ae.getShortDetailOrder({order_id:x});case 22:return O=e.sent,e.next=25,ae.stripeCharge({stripeToken:g.id,order_id:x,amount:Math.floor(100*parseFloat(O.total_amount)),description:"Ordered on ".concat(O.created_on)});case 25:if(!(E=e.sent).error){e.next=31;break}throw c(E.error),new Error(E.error.message);case 31:o();case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(2),e.t0.message.includes("Unauthorized")?n.setState({error:"Please log in to check out"}):n.setState({error:e.t0.message});case 37:case"end":return e.stop()}},e,null,[[2,34]])}));return function(t){return e.apply(this,arguments)}}();var r=e.onClickBack;return n.state={btnPropsPrimary:{onClick:n.handleCheckout},btnPropsSecondary:{onClick:r}},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.className,t=this.state,n=t.btnPropsPrimary,r=t.btnPropsSecondary,a=t.error;return o.a.createElement("div",{className:e},o.a.createElement(en,{onCheckout:this.handleCheckout,error:a}),o.a.createElement(qt,{labelPrimary:"Pay",labelSecondary:"Back",btnPropsPrimary:n,btnPropsSecondary:r}))}}]),t}(a.Component);tn.defaultProps={className:void 0,stripe:void 0,onClickBack:void 0,onSuccess:void 0,onFailure:void 0,firstName:void 0,lastName:void 0,address:void 0,city:void 0,state:void 0,zipCode:void 0,country:void 0,shippingOptionId:void 0};var nn=Object(u.compose)(Object(s.b)(function(e){return{user:e.main.user,firstName:e.checkout.firstName,lastName:e.checkout.lastName,address:e.checkout.address,city:e.checkout.city,state:e.checkout.state,zipCode:e.checkout.zipCode,country:e.checkout.country,shippingOptionId:e.checkout.shippingOptionId}}),gt.injectStripe)(tn);function rn(){var e=Object(ue.a)(["\n    text-align: center;\n    padding: 48px 0;\n\n    #btn-back-to-shop {\n        margin: 48px 0 32px 0;\n    }\n"]);return rn=function(){return e},e}var an=le.b.div(rn()),on=function(e){var t=e.onClickBackToShop;return o.a.createElement(an,{id:"success-view",className:"checkout-view"},o.a.createElement("h1",null,"Success!"),o.a.createElement("div",null,"Your items will be shipped shortly, you will get email with details."),o.a.createElement(Ue,{id:"btn-back-to-shop",className:"btn-large primary",onClick:t},"Back to shop"))},cn=function(e){var t=e.className,n=e.closeCheckoutModal;return o.a.createElement("div",{className:t},o.a.createElement(on,{onClickBackToShop:n}))};cn.defaultProps={className:void 0};var sn={closeCheckoutModal:ve},un=Object(s.b)(void 0,sn)(cn),ln=function(e){var t=e.replace(/\./g,"").replace(/[^a-zA-Z\d]/g,"-").toLowerCase();return"https://backendapi.turing.com/images/products/".concat(t,".gif")};function dn(){var e=Object(ue.a)(["\n    padding-top: 24px;\n    padding-bottom: 24px;\n\n    hr {\n        border: none;\n        height: 2px;\n        background-color: #e4e4e4;\n    }\n\n    .cart-empty {\n        text-align: center;\n    }\n\n    .line-item {\n        display: flex;\n        flex-direction: row;\n        padding: 12px 0;\n        font-weight: 300;\n\n        .col-line-item {\n            text-align: center;\n            display: flex;\n            align-items: center;\n            padding: 0 4px;\n        }\n\n        .col-item {\n            display: flex;\n            flex: 1;\n            text-align: left;\n        }\n\n        .col-attributes {\n            max-width: 128px;\n            width: 100%;\n        }\n\n        .col-quantity {\n            max-width: 192px;\n            width: 100%;\n            justify-content: center;\n        }\n\n        .col-price {\n            max-width: 96px;\n            width: 100%;\n            justify-content: flex-end;\n        }\n\n        .col-price-value {\n            font-size: 20px;\n            color: #2e2e2e;\n            font-weight: bold;\n        }\n    }\n\n    .row-item-header {\n        color: #b4b4b4;\n        font-weight: bold;\n        padding-bottom: 0;\n    }\n\n    .btn-quantity {\n        font-size: 24px !important;\n        width: 32px !important;\n        height: 32px !important;\n        min-height: unset !important;\n        color: #2e2e2e !important;\n        box-shadow: unset !important;\n        margin: 0 4px;\n        background-color: #e7e7e7 !important;\n\n        .icon {\n            font-size: 22px !important;\n        }\n    }\n    .quantity-box {\n        display: inline-block;\n        padding: 4px 8px;\n        border-radius: 32px;\n        width: 32px;\n        font-weight: 700;\n        color: #2e2e2e;\n        border: 1px solid #b7b7b7;\n    }\n\n    .item {\n        display: flex;\n        flex-direction: row;\n    }\n    .item-image {\n        width: 80px;\n        height: 80px;\n\n        img {\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n        }\n    }\n    .item-info {\n        margin-left: 12px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .item-name {\n            margin: 0;\n        }\n\n        .btn-remove {\n            font-size: 12px;\n            display: flex;\n            align-items: center;\n            color: #b7b7b7;\n\n            :hover {\n                cursor: pointer;\n                text-decoration: underline;\n            }\n\n            .icon {\n                font-size: 12px !important;\n                font-weight: bold;\n                color: red;\n                margin-right: 4px;\n            }\n        }\n    }\n"]);return dn=function(){return e},e}var pn=le.b.div(dn()),mn=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).state={},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cart,n=void 0===t?[]:t,r=e.onRemoveItemFromCart,a=e.onRemoveItem,c=e.onAddItem;return 0===n.length?o.a.createElement(pn,{className:"section-cart checkout-view"},o.a.createElement("h1",{className:"cart-title cart-empty"},"Empty Cart")):o.a.createElement(pn,{className:"section-cart checkout-view"},o.a.createElement("h2",{className:"cart-title"},n.length," Items In Your Cart"),o.a.createElement("div",{className:"line-item row-item-header"},o.a.createElement("div",{className:"col-line-item col-item"},"Item"),o.a.createElement("div",{className:"col-line-item col-attributes"},"Attributes"),o.a.createElement("div",{className:"col-line-item col-quantity"},"Quantity"),o.a.createElement("div",{className:"col-line-item col-price"},"Price")),o.a.createElement("hr",null),n.map(function(e){return o.a.createElement("div",{key:e.name,className:"line-item"},o.a.createElement("div",{className:"col-line-item col-item"},o.a.createElement("div",{className:"item"},o.a.createElement("div",{className:"item-image"},o.a.createElement("img",{src:ln(e.name),alt:e.name})),o.a.createElement("div",{className:"item-info"},o.a.createElement("h3",{className:"item-name"},e.name),o.a.createElement("div",{className:"btn-remove",onClick:function(){r(e.name)}},o.a.createElement(ft.a,{className:"icon"},"clear_icon"),"Remove")))),o.a.createElement("div",{className:"col-line-item col-attributes"},e.attributes),o.a.createElement("div",{className:"col-line-item col-quantity"},o.a.createElement(mt.a,{"aria-label":"Remove",className:"btn-quantity",size:"small",onClick:function(){return a(e.name)}},o.a.createElement(ft.a,{className:"icon"},"remove_icon")),o.a.createElement("div",{className:"quantity-box"},e.quantity),o.a.createElement(mt.a,{"aria-label":"Add",className:"btn-quantity",size:"small",onClick:function(){return c(e.name)}},o.a.createElement(ft.a,{className:"icon"},"add_icon"))),o.a.createElement("div",{className:"col-line-item col-price col-price-value"},"$".concat((e.price*e.quantity).toFixed(2))))}))}}]),t}(a.Component);mn.defaultProps={cart:[]};var hn=mn,fn=function(e){function t(e){var n;Object(O.a)(this,t),n=Object(k.a)(this,Object(j.a)(t).call(this,e));var r=e.closeCheckoutModal,a=e.onClickNext,o=e.cart;return n.state={btnPropsPrimary:{onClick:a,disabled:0===o.length},btnPropsSecondary:{onClick:r}},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.cart,n=this.state.btnPropsPrimary;n.disabled!==(0===t.length)&&this.setState({btnPropsPrimary:Object(m.a)({},n,{disabled:0===t.length})})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cart,r=e.increaseItemInCart,a=e.decreaseItemInCart,c=e.deleteItem,i=this.state,s=i.btnPropsPrimary,u=i.btnPropsSecondary;return o.a.createElement("div",{className:t},o.a.createElement(hn,{cart:n,onRemoveItemFromCart:c,onRemoveItem:a,onAddItem:r}),o.a.createElement(qt,{labelPrimary:"Checkout",labelSecondary:"Back to shop",btnPropsPrimary:s,btnPropsSecondary:u}))}}]),t}(a.Component);fn.defaultProps={className:void 0};var gn={increaseItemInCart:ie,decreaseItemInCart:se,deleteItem:function(e){return function(){var t=Object(C.a)(w.a.mark(function t(n,r){var a,o;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!(o=a.cart)[e]){t.next=7;break}return n({type:"REMOVE_ITEM_FROM_CART",payload:{name:e}}),t.next=5,ae.removeItemFromCart({item_id:o[e].item_id});case 5:t.sent&&n(ce());case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},closeCheckoutModal:ve},bn=Object(u.compose)(Object(s.b)(function(e){return{cart:xe(e.cart)}},gn))(fn),vn=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).goToNextStage=function(){var e=n.state.stage;n.setState({stage:e+1})},n.goToPreviousStage=function(){var e=n.state.stage-1;e<0&&(e=0),n.setState({stage:e})},n.handlePaymentFailure=function(e){console.error(e)},n.renderCartView=function(){return o.a.createElement(bn,{onClickNext:n.goToNextStage})},n.renderDeliveryView=function(){return o.a.createElement(Wt,{onClickNext:n.goToNextStage,onClickBack:n.goToPreviousStage})},n.renderConfirmationView=function(){return o.a.createElement(Yt,{onClickPay:n.goToNextStage,onClickBack:n.goToPreviousStage})},n.renderPaymentView=function(){var e=n.props.clearCart;return o.a.createElement(gt.StripeProvider,{apiKey:"pk_test_NcwpaplBCuTL6I0THD44heRe"},o.a.createElement(gt.Elements,null,o.a.createElement(nn,{onFailure:n.handlePaymentFailure,onSuccess:function(){e(),n.goToNextStage()},onClickBack:n.goToPreviousStage})))},n.renderSuccessView=function(){return o.a.createElement(un,null)},n.state={stage:0},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.stage;return 1===e?this.renderDeliveryView():2===e?this.renderConfirmationView():3===e?this.renderPaymentView():4===e?this.renderSuccessView():this.renderCartView()}}]),t}(a.Component),yn={clearCart:function(){return{type:"CLEAR_CART"}}},xn=Object(s.b)(void 0,yn)(vn);function wn(){var e=Object(ue.a)(["\n    position: relative;\n\n    .checkout-view,\n    .view-footer-btn-container {\n        max-width: 680px;\n        margin: auto;\n    }\n\n    .btn-close-modal {\n        box-shadow: none;\n        background-color: transparent;\n        position: absolute;\n        top: 4px;\n        right: 4px;\n\n        .close-modal-icon {\n            font-size: 36px;\n        }\n    }\n"]);return wn=function(){return e},e}var Cn=le.b.div(wn()),On={onClose:ve},En=Object(s.b)(function(e){return{open:e.main.isCheckoutModalOpen}},On)(function(e){var t=e.open,n=e.onClose;return o.a.createElement(_e,{open:t,onClose:n},o.a.createElement(Cn,{id:"checkout-modal-view"},o.a.createElement(mt.a,{"aria-label":"Close",className:"btn-close-modal",onClick:n},o.a.createElement(ft.a,{className:"icon close-modal-icon"},"clear_icon")),o.a.createElement(xn,null)))}),kn=n(39),jn=n(117),Nn=n.n(jn);function _n(){var e=Object(ue.a)(["\n    padding: 12px 18px;\n    display: flex;\n    background-color: white;\n    font-size: 12px;\n    font-weight: bold;\n\n    .auth-link {\n        color: ",";\n\n        :hover {\n            text-decoration: underline;\n            cursor: pointer;\n        }\n    }\n\n    .options {\n        display: flex;\n        flex: 1;\n        justify-content: center;\n\n        a {\n            margin: 0 12px;\n            color: #2e2e2e;\n            text-decoration: unset;\n\n            :hover {\n                text-decoration: underline;\n            }\n        }\n    }\n\n    .section-cart {\n        display: flex;\n        flex-direction: row;\n\n        .bag-badge {\n            margin-right: 16px;\n            :hover {\n                cursor: pointer;\n            }\n        }\n        .badge {\n            height: 18px;\n            min-width: 18px;\n            font-size: 10px;\n        }\n        .basket-icon {\n            font-size: 20px;\n        }\n    }\n\n    #btn-logout,\n    #btn-login {\n        margin-left: 8px;\n    }\n"]);return _n=function(){return e},e}var Pn=le.b.div(_n(),"#f62f5e"),Sn=function(e){var t=e.numItems,n=e.onClickLogin,r=e.onClickLogOut,a=e.onClickRegister,c=e.onClickCart,i=e.subtotal,s=e.user,u="Hi!";return s&&(u="Hi, ".concat(s.name,"! ")),o.a.createElement(Pn,null,o.a.createElement("div",{className:"section-auth"},u,s&&o.a.createElement("span",{id:"btn-logout",className:"auth-link",onClick:r},"Log out"),!s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{id:"btn-login",className:"auth-link",onClick:n},"Sign in"," "),"or"," ",o.a.createElement("span",{className:"auth-link",onClick:a},"Register"))),o.a.createElement("div",{className:"options"},o.a.createElement(kn.a,{to:"/dailydeals"},"Daily Deals"),o.a.createElement(kn.a,{to:"/sell"},"Sell"),o.a.createElement(kn.a,{to:"/help"},"Help & Contact")),o.a.createElement("div",{className:"section-cart"},o.a.createElement(Nn.a,{className:"bag-badge",color:"secondary",badgeContent:t,classes:{badge:"badge"},onClick:c},o.a.createElement(ft.a,{className:"basket-icon"},"shopping_basket")),o.a.createElement("div",null,"Your bag: ","$".concat(i||"0.00"))))};Sn.defaultProps={user:void 0};var An=Sn,In=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).state={isCartModalOpen:!1,subtotal:"0.00",numItems:0},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.openRegisterModal,n=e.openCheckoutModal,r=e.openLoginModal,a=e.logOut,c=e.user,i=this.state,s=i.subtotal,u=i.numItems;return o.a.createElement(An,{onClickRegister:t,onClickLogin:r,onClickLogOut:a,onClickCart:n,numItems:u,subtotal:s,user:c})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.cart,r=0,a=0;return n.forEach(function(e){r+=parseFloat(e.price)*e.quantity,a+=e.quantity}),Object(m.a)({},t,{subtotal:r.toFixed(2),numItems:a})}}]),t}(a.Component);In.defaultProps={user:void 0};var Tn={logOut:fe,openRegisterModal:function(){return{type:"OPEN_REGISTER_MODAL"}},openCheckoutModal:function(){return{type:"OPEN_CHECKOUT_MODAL"}},openLoginModal:function(){return{type:"OPEN_LOGIN_MODAL"}}},Dn=Object(s.b)(function(e){return{open:e.main.isRegisterModalOpen,cart:xe(e.cart),user:e.main.user}},Tn)(In),zn=n(72),Rn=n.n(zn);function Mn(){var e=Object(ue.a)(["\n    max-width: 240px;\n    width: 100%;\n\n    .input-search-bar {\n        color: white;\n        width: 100%;\n        background-color: #b4b4b4;\n        border-radius: 24px;\n    }\n\n    #search-bar {\n        font-size: 14px;\n        font-weight: 500;\n\n        &::placeholder {\n            color: #f7f7f7;\n            opacity: 0.8;\n        }\n    }\n\n    .search-adornment {\n        margin-left: 8px;\n\n        .icon-search {\n            font-size: 20px;\n        }\n    }\n\n    .clear-adornment {\n        .btn-clear-search {\n            background: transparent;\n            box-shadow: none;\n            width: 24px;\n            height: 24px;\n            min-height: unset;\n            margin-right: 8px;\n        }\n        .icon-clear {\n            font-size: 12px;\n            font-weight: 600;\n            color: white;\n        }\n    }\n"]);return Mn=function(){return e},e}var Ln=le.b.div(Mn()),Fn=function(){return o.a.createElement(Rn.a,{className:"search-adornment",position:"start"},o.a.createElement(ft.a,{className:"icon-search"},"search_icon"))},qn=function(e){var t=e.onClick;return o.a.createElement(Rn.a,{className:"clear-adornment",position:"end"},o.a.createElement(mt.a,{"aria-label":"Remove",className:"btn-clear-search",size:"small",onClick:t},o.a.createElement(ft.a,{className:"icon-clear"},"clear_icon")))},Bn=function(e){var t=e.search,n=e.onClickClearSearch,r=e.onChangeSearch;return o.a.createElement(Ln,{className:"section-search-bar"},o.a.createElement(De.a,{id:"search-bar",className:"input-search-bar",startAdornment:o.a.createElement(Fn,null),endAdornment:t?o.a.createElement(qn,{onClick:n}):void 0,placeholder:"search anything",value:t,onChange:r}))};function Un(){var e=Object(ue.a)(["\n    padding: 20px 18px;\n    display: flex;\n    background-color: #2e2e2e;\n    font-size: 12px;\n    font-weight: bold;\n    align-items: baseline;\n\n    .header-brand {\n        color: ",";\n        margin: 0;\n        letter-spacing: 2px;\n        margin-right: auto;\n        cursor: pointer;\n    }\n\n    .section-department {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-evenly;\n        color: #f7f7f7;\n        font-size: 16px;\n        margin: 0 auto;\n\n        .department {\n            margin: 0 8px;\n            cursor: pointer;\n\n            :hover {\n                color: ",";\n            }\n\n            &.selected {\n                color: ",";\n            }\n        }\n    }\n\n    .section-search-bar {\n        align-self: center;\n        margin-left: auto;\n    }\n"]);return Un=function(){return e},e}var Wn=le.b.div(Un(),"#f62f5e","#f62f5e","#f62f5e"),Gn=function(e){var t=e.search,n=e.onChangeSearch,r=e.onClickClearSearch,a=e.onClickDepartment,c=e.onClickBrand,i=e.departments,s=e.selectedDepartmentId;return o.a.createElement(Wn,null,o.a.createElement("h2",{className:"header-brand",onClick:c},"SHOPMATE"),o.a.createElement("div",{className:"section-department"},i.map(function(e){var t=e.department_id,n=e.name;return o.a.createElement("div",{key:n,className:"department ".concat(t===s?"selected":""),onClick:function(){a(e)}},n)})),o.a.createElement(Bn,{search:t,onClickClearSearch:r,onChangeSearch:n}))};Gn.defaultProps={departments:[],selectedDepartmentId:void 0};var Vn=Gn,Hn=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).clearSearch=function(){n.setState({search:""})},n.handleChangeSearch=function(e){n.setState({search:e.target.value})},n.handleClickBrand=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.storeDepartments,a=t.storeCategories,o=t.clearCategory,c=t.clearDepartment,e.next=3,ae.getAllDepartments();case 3:return i=e.sent,e.next=6,ae.getAllCategories();case 6:s=e.sent,u=s.categories,o(),c(),r(i),a(u);case 12:case"end":return e.stop()}},e)})),n.state={search:""},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.departments,n=e.selectedDepartmentId,r=e.selectDepartment,a=this.state.search;return o.a.createElement(Vn,{onChangeSearch:this.handleChangeSearch,onClickBrand:this.handleClickBrand,onClickClearSearch:this.clearSearch,onClickDepartment:r,departments:t,selectedDepartmentId:n,search:a})}}]),t}(a.Component);Hn.defaultProps={selectedDepartmentId:void 0,departments:[]};var Zn={selectDepartment:function(e){return{type:"SELECT_DEPARTMENT",payload:{department:e}}},storeDepartments:be,storeCategories:ge,clearCategory:function(){return{type:"CLEAR_CATEGORY"}},clearDepartment:function(){return{type:"CLEAR_DEPARTMENT"}}},$n=Object(s.b)(function(e){return{departments:e.main.departments,selectedDepartmentId:e.main.selectedDepartment?e.main.selectedDepartment.department_id:void 0}},Zn)(Hn);function Yn(){var e=Object(ue.a)(["\n    cursor: pointer;\n\n    :hover {\n        color: ",";\n    }\n\n    &.selected {\n        color: ",";\n    }\n"]);return Yn=function(){return e},e}var Qn=le.b.h3(Yn(),"#f62f5e","#f62f5e"),Kn=function(e){var t=e.category,n=e.onClick,r=e.isSelected;return o.a.createElement(Qn,{type:"button",className:"category-list-item ".concat(r?"selected":""),onClick:n},t.name)};Kn.defaultProps={isSelected:!1};var Jn=Kn;function Xn(){var e=Object(ue.a)(["\n    margin-right: 24px;\n    .category-title {\n        margin-top: 12px;\n    }\n"]);return Xn=function(){return e},e}var er=le.b.div(Xn()),tr=function(e){var t=e.categories,n=e.onSelectCategory,r=e.selectedCategory,a=e.className,c=(r||{}).category_id;return o.a.createElement(er,{className:a},o.a.createElement("h2",{className:"category-title"},"Categories"),t.map(function(e){return o.a.createElement(Jn,{key:e.category_id,category:e,onClick:function(){return n(e)},isSelected:e.category_id===c})}))};tr.defaultProps={className:"category-list",categories:[],selectedCategory:void 0};var nr=tr,rr=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).componentDidMount=Object(C.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.loadCategories());case 1:case"end":return e.stop()}},e)})),n.componentWillReceiveProps=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedDepartment,a=n.props.selectedDepartment,r===a){e.next=7;break}if(!r||!a||r.department_id!==a.department_id){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n.loadCategories(r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.loadCategories=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!t){e.next=7;break}return e.next=4,ae.getCategoriesByDepartment({department_id:t.department_id});case 4:r=e.sent,e.next=11;break;case 7:return e.next=9,ae.getAllCategories();case 9:a=e.sent,r=a.categories;case 11:n.setState({categories:r||[]});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleSelectCategory=function(e){(0,n.props.onSelectCategory)(e)},n.state={categories:[]},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state.categories,t=this.props,n=t.selectedCategory,r=t.className;return o.a.createElement(nr,{className:r,categories:e,onSelectCategory:this.handleSelectCategory,selectedCategory:n})}}]),t}(a.Component);rr.defaultProps={className:void 0,selectedCategory:void 0,selectedDepartment:void 0};var ar={onSelectCategory:function(e){return{type:"SELECT_CATEGORY",payload:{category:e}}}},or=Object(s.b)(function(e){return{selectedCategory:e.main.selectedCategory,selectedDepartment:e.main.selectedDepartment}},ar)(rr),cr=n(118),ir=n.n(cr),sr=I()(function(e){var t=e.image,n=e.image_2,r=e.thumbnail,a=e.name;if(r)return"https://backendapi.turing.com/images/products/".concat(r);if(t)return"https://backendapi.turing.com/images/products/".concat(t);if(n)return"https://backendapi.turing.com/images/products/".concat(n);var o=a.replace(/[^a-zA-Z\d]/g,"-").toLowerCase();return"https://backendapi.turing.com/images/products/".concat(o,".gif")},{equals:T});function ur(){var e=Object(ue.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 16px;\n    position: relative;\n    width: 100%;\n    height: 240px;\n    min-width: 160px;\n    max-width: 180px;\n    box-sizing: border-box;\n\n    .section-product {\n        text-align: center;\n\n        .product-image-container {\n            width: 100%;\n            max-width: 120px;\n            margin: auto;\n\n            img {\n                width: 100%;\n                object-fit: contain;\n            }\n        }\n\n        .product-name {\n            margin: 12px 0;\n            line-height: normal;\n        }\n\n        .section-price {\n            display: flex;\n            justify-content: center;\n            font-weight: 600;\n\n            &.has-discount {\n                justify-content: space-between;\n            }\n\n            .product-price {\n                color: #f62f5e;\n            }\n\n            .product-discounted-price {\n                text-decoration: line-through;\n                display: flex;\n                justify-content: flex-end;\n            }\n        }\n    }\n\n    .quick-view-background,\n    .quick-view-cover {\n        border-radius: inherit;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 10;\n        transition: opacity 200ms;\n\n        &.hide {\n            opacity: 0;\n        }\n    }\n\n    .quick-view-background {\n        background-color: white;\n        opacity: 0.8;\n    }\n\n    .quick-view-cover {\n        opacity: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    .btn-quick-view {\n        font-size: 12px !important;\n        padding: 6px 16px !important;\n        min-width: unset !important;\n    }\n"]);return ur=function(){return e},e}var lr=Object(le.b)(ir.a)(ur()),dr=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleMouseOver=function(){n.setState({elevation:10,mouseOver:!0})},n.handleMouseOut=function(){n.setState({elevation:1,mouseOver:!1})},n.state={elevation:1,mouseOver:!1},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClickQuickView,n=e.product,r=(n=void 0===n?{}:n).name,a=n.price,c=n.discounted_price,i=e.product,s=this.state,u=s.elevation,l=s.mouseOver,d=parseFloat(c),p=!Number.isNaN(d)&&d>0,m=a,h=a;return p&&(h=c),o.a.createElement(lr,{elevation:u,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseOut,className:"product-card"},o.a.createElement("div",{className:"section-product"},o.a.createElement("div",{className:"product-image-container"},o.a.createElement("img",{src:sr(i),alt:r})),o.a.createElement("div",{className:"sub-header product-name"},r),o.a.createElement("div",{className:"section-price ".concat(p?"has-discount":"")},p&&o.a.createElement("div",{className:"product-discounted-price"},"$".concat(m)),o.a.createElement("div",{className:"product-price"},"$".concat(h)))),o.a.createElement("div",{className:"quick-view-background ".concat(l?"":"hide")}),o.a.createElement("div",{className:"quick-view-cover ".concat(l?"":"hide")},o.a.createElement(Ue,{className:"primary btn-quick-view",onClick:t},"Quick View")))}}]),t}(a.Component);function pr(){var e=Object(ue.a)(["\n    flex: 1;\n\n    .product-list-pagination {\n        display: flex;\n        justify-content: center;\n\n        .page-number {\n            padding: 8px;\n            cursor: pointer;\n            background-color: transparent;\n            border: none;\n            font-size: 16px;\n            margin: 0 6px;\n            outline: none;\n            :hover {\n                color: ",";\n            }\n        }\n        .current-page {\n            color: red;\n        }\n    }\n\n    .product-list {\n        width: 100%;\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n        grid-gap: 1em;\n        margin: 1em 0 3em;\n\n        .product-card {\n            margin: 12px 4px 0;\n        }\n    }\n"]);return pr=function(){return e},e}var mr=le.b.div(pr(),"#f62f5e"),hr=function(e){var t=e.products,n=e.totalProducts,r=e.className,a=e.page,c=e.pageLimit,i=void 0===c?20:c,s=e.onChangePage,u=e.onClickQuickView,l=Math.ceil(n/i),d=[];if(l>1)for(var p=function(e){d.push(o.a.createElement("button",{type:"button",key:"page-".concat(e),className:"page-number ".concat(a===e?"current-page":""),onClick:function(){s(e)}},e))},m=1;m<=l;m+=1)p(m);return o.a.createElement(mr,{className:"product-list-container ".concat(r||"")},o.a.createElement("div",{className:"product-list-pagination"},d),o.a.createElement("div",{className:"product-list"},t.map(function(e){return o.a.createElement(dr,{key:e.product_id,product:e,onClickQuickView:function(){u(e.product_id)}})})))};hr.defaultProps={className:"",pageLimit:20};var fr=hr,gr=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).componentDidMount=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.page,r=n.props,a=r.selectedCategory,o=r.selectedDepartment,c=(a||{}).category_id,i=(o||{}).department_id,n.loadProducts({page:t,category_id:c,department_id:i});case 5:case"end":return e.stop()}},e)})),n.componentWillReceiveProps=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.selectedDepartment,a=t.selectedCategory,o=n.props,c=o.selectedDepartment,i=o.selectedCategory,a===i||!a){e.next=9;break}if(!a||!i||a.category_id!==i.category_id){e.next=5;break}return e.abrupt("return");case 5:return n.setState({page:1}),e.next=8,n.loadProducts({category_id:(a||{}).category_id});case 8:return e.abrupt("return");case 9:if(r===c||!r){e.next=16;break}if(!r||!c||r.department_id!==c.department_id){e.next=12;break}return e.abrupt("return");case 12:return n.setState({page:1}),e.next=15,n.loadProducts({department_id:(r||{}).department_id});case 15:return e.abrupt("return");case 16:if((r===c||r)&&(a===i||a)){e.next=19;break}return e.next=19,n.loadProducts();case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.loadProducts=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i,s,u,l,d,p,m,h,f=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},r=t.page,a=t.category_id,o=t.department_id,e.next=3,ae.getAllProducts({page:r});case 3:if(c=e.sent,i=c.products,s=c.count,!a){e.next=16;break}return e.next=9,ae.getProductsByCategory({page:r,category_id:a});case 9:u=e.sent,l=u.products,i=void 0===l?[]:l,d=u.count,s=void 0===d?0:d,e.next=24;break;case 16:if(!o){e.next=24;break}return e.next=19,ae.getProductsByDepartment({page:r,department_id:o});case 19:p=e.sent,m=p.products,i=void 0===m?[]:m,h=p.count,s=void 0===h?0:h;case 24:n.setState({products:i,totalProducts:s});case 25:case"end":return e.stop()}},e)})),n.handleChangePage=function(e){var t=n.props,r=t.selectedCategory,a=t.selectedDepartment,o=(r||{}).category_id,c=(a||{}).department_id;n.setState({page:e}),n.loadProducts({page:e,category_id:o,department_id:c})},n.state={products:[],totalProducts:0,page:1},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.page,n=e.products,r=e.totalProducts,a=this.props.openProductDetailModal;return o.a.createElement(fr,{onChangePage:this.handleChangePage,page:t,products:n,totalProducts:r,onClickQuickView:a})}}]),t}(a.Component);gr.defaultProps={selectedCategory:void 0,selectedDepartment:void 0};var br={openProductDetailModal:function(e){return{type:"OPEN_PRODUCT_DETAIL_MODAL",payload:{productId:e}}}},vr=Object(s.b)(function(e){return{selectedDepartment:e.main.selectedDepartment,selectedCategory:e.main.selectedCategory}},br)(gr);function yr(){var e=Object(ue.a)(["\n    display: flex;\n    color: #b4b4b4;\n    .gold-rating {\n        color: #f1ad3d;\n    }\n"]);return yr=function(){return e},e}var xr=le.b.div(yr()),wr=function(e){for(var t=e.rating,n=[],r=0;r<t&&r<5;r+=1)n.push(o.a.createElement(ft.a,{key:"rating-".concat(r),className:"gold-rating"},"star_rate_icon"));for(var a=t;a<5;a+=1)n.push(o.a.createElement(ft.a,{key:"rating-".concat(a),className:"empty-rating"},"star_rate_icon"));return o.a.createElement(xr,{className:"product-rating"},n)};wr.defaultProps={rating:0};var Cr=wr;function Or(){var e=Object(ue.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    color: #b4b4b4;\n    font-size: 14px;\n    font-weight: 400;\n\n    .bullet {\n        font-size: 18px;\n        font-weight: bold;\n        margin: 0 8px;\n        line-height: 4px;\n    }\n"]);return Or=function(){return e},e}var Er=le.b.div(Or()),kr=function(e){var t=e.categories,n=void 0===t?[]:t,r=e.selectedDepartment;return o.a.createElement(Er,{className:"product-categories"},o.a.createElement("span",{className:"product-category"},"Home"),o.a.createElement("span",{className:"bullet"},"\u2022"),o.a.createElement("span",{className:"product-category"},r),n.length>0&&o.a.createElement("span",{className:"bullet"},"\u2022"),n.map(function(e,t){return o.a.createElement(o.a.Fragment,{key:e},o.a.createElement("span",{className:"product-category"},e),t<n.length-1&&o.a.createElement("span",{className:"bullet"},"\u2022"))}))};kr.defaultProps={categories:[],selectedDepartment:"All Categories"};var jr=kr,Nr={black:"#2e2e2e",white:"#f7f7f7",red:"#f62f5e",blue:"#6eb2fb",orange:"#f1ad3d",yellow:"#effc90"},_r=function(e){var t=e.toLowerCase();return Nr[t]||t};function Pr(){var e=Object(ue.a)(["\n    border-radius: 50%;\n    width: 12px;\n    height: 12px;\n    box-sizing: border-box;\n    background-color: ",";\n    ",";\n"]);return Pr=function(){return e},e}function Sr(){var e=Object(ue.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    color: #b4b4b4;\n    font-size: 14px;\n    font-weight: 400;\n\n    .color-title {\n        color: #b4b4b4;\n        margin: 0;\n    }\n\n    .color-list {\n        display: flex;\n        flex-direction: row;\n        margin: 8px 0;\n    }\n\n    .color-container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 50%;\n        width: 20px;\n        height: 20px;\n        cursor: pointer;\n        box-sizing: border-box;\n\n        &.selected,\n        :hover {\n            border: 1px solid #b4b4b4;\n        }\n    }\n"]);return Sr=function(){return e},e}var Ar=le.b.div(Sr()),Ir=le.b.div(Pr(),function(e){return e.color},function(e){var t=e.color;return"white"===t||"#fff"===t||"#ffffff"===t||"#f7f7f7"===t?"border: 1px solid #e2e2e2;":""}),Tr=function(e){var t=e.colorAttributes,n=void 0===t?[]:t,r=e.selectedColorAttribute,a=(r=void 0===r?{}:r).attribute_value,c=void 0===a?"":a,i=e.onClickColor;return o.a.createElement(Ar,{className:"product-colors",selectedColor:_r(c)},o.a.createElement("h3",{className:"color-title"},"Color"),o.a.createElement("div",{className:"color-list"},n.map(function(e){var t=e.attribute_value;return o.a.createElement("div",{key:t,className:"color-container ".concat(t===c?"selected":""),onClick:function(){i(e)}},o.a.createElement(Ir,{className:"color",color:_r(t)}))})))};Tr.defaultProps={colorAttributes:[],selectedColorAttribute:{}};var Dr=Tr;function zr(){var e=Object(ue.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    color: #b4b4b4;\n    font-size: 14px;\n    font-weight: 400;\n\n    .size-title {\n        color: #b4b4b4;\n        margin: 0;\n    }\n\n    .size-list {\n        display: flex;\n        flex-direction: row;\n        margin: 8px 0;\n    }\n\n    .size-container {\n        color: #6c6c6c;\n        font-size: smaller;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 4px;\n        width: 50px;\n        height: 25px;\n        cursor: pointer;\n        box-sizing: border-box;\n        background-color: #e7e7e7;\n        margin-right: 12px;\n\n        &.selected,\n        :hover {\n            background-color: ",";\n            color: white;\n        }\n    }\n"]);return zr=function(){return e},e}var Rr=le.b.div(zr(),"#f62f5e"),Mr=function(e){var t=e.sizeAttributes,n=void 0===t?[]:t,r=e.selectedSizeAttribute,a=(r=void 0===r?{}:r).attribute_value,c=e.onClickSize;return o.a.createElement(Rr,{className:"product-sizes"},o.a.createElement("h3",{className:"size-title"},"Size"),o.a.createElement("div",{className:"size-list"},n.map(function(e){var t=e.attribute_value;return o.a.createElement("div",{key:t,className:"size-container ".concat(t===a?"selected":""),onClick:function(){c(e)}},t)})))};Mr.defaultProps={sizeAttributes:[],selectedSizeAttribute:{}};var Lr=Mr;function Fr(){var e=Object(ue.a)(["\n    background-color: white;\n    padding: 36px 18px;\n    display: flex;\n\n    .product-name {\n        margin: 0;\n    }\n\n    .product-description {\n        margin: 12px 0;\n    }\n\n    .product-price {\n        font-family: ",";\n        color: ",";\n        font-size: 24px;\n        font-weight: bold;\n        margin: 24px 0;\n    }\n\n    .product-discounted-price {\n        color: #b4b4b4;\n        text-decoration: line-through;\n        font-size: 12px;\n    }\n\n    .product-rating {\n        margin: 12px 0 4px;\n    }\n\n    .product-sizes {\n        margin-top: 12px;\n    }\n\n    .section-product-image {\n        width: 33%;\n        display: flex;\n        padding-right: 18px;\n        justify-content: center;\n        align-items: flex-start;\n        box-sizing: border-box;\n\n        .product-image {\n            width: 90%;\n            object-fit: contain;\n        }\n    }\n\n    .section-product-info {\n        flex: 1;\n    }\n\n    #btn-add-to-cart {\n        margin-top: 20px;\n    }\n"]);return Fr=function(){return e},e}var qr=le.b.div(Fr(),"'Montserrat', sans-serif","#f62f5e"),Br=function(e){var t=e.loading,n=e.product,r=(n=void 0===n?{}:n).name,a=n.description,c=n.price,i=n.discounted_price,s=e.product,u=e.rating,l=e.categories,d=void 0===l?[]:l,p=e.onClickAddToCart,m=e.selectedDepartment,h=e.colorAttributes,f=e.selectedColorAttribute,g=(f=void 0===f?{}:f).attribute_value,b=void 0===g?"":g,v=e.selectedColorAttribute,y=e.sizeAttributes,x=e.selectedSizeAttribute,w=(x=void 0===x?{}:x).attribute_value,C=void 0===w?"":w,O=e.selectedSizeAttribute,E=e.onClickColor,k=e.onClickSize;if(t)return null;var j=b&&C,N=parseFloat(i)>0,_=N?i:c,P=c;return o.a.createElement(qr,{className:"product-detail-container"},o.a.createElement("div",{className:"section-product-image"},o.a.createElement("img",{className:"product-image",src:sr(s||{}),alt:r})),o.a.createElement("div",{className:"section-product-info"},o.a.createElement(jr,{categories:d,selectedDepartment:m}),o.a.createElement(Cr,{rating:u}),o.a.createElement("h2",{className:"product-name"},r),o.a.createElement("div",{className:"product-description"},a),o.a.createElement("div",{className:"product-price"},"$".concat(_)," ",o.a.createElement("span",{className:"product-discounted-price"},N?P:"")),o.a.createElement(Dr,{colorAttributes:h,selectedColorAttribute:v,onClickColor:E}),o.a.createElement(Lr,{sizeAttributes:y,selectedSizeAttribute:O,onClickSize:k}),o.a.createElement(Ue,{id:"btn-add-to-cart",className:"primary btn-large",onClick:p,disabled:!j},"Add to cart")))};Br.defaultProps={product:void 0,selectedDepartment:void 0};var Ur=Br,Wr=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).componentDidMount=Object(C.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props.productId,n.loadProduct(t);case 2:case"end":return e.stop()}},e)})),n.loadProduct=function(){var e=Object(C.a)(w.a.mark(function e(t){var r,a,o,c,i,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),e.next=4,ae.getProductById({product_id:t});case 4:if(!(r=e.sent).error){e.next=7;break}throw new Error(r.error.message);case 7:return n.setState({product:r}),e.next=10,ae.getAttributesByProductId({product_id:t});case 10:if(!(a=e.sent).error){e.next=13;break}throw new Error(a.error.message);case 13:return o=a.filter(function(e){return"Color"===e.attribute_name}),c=a.filter(function(e){return"Size"===e.attribute_name}),n.setState({sizeAttributes:c,colorAttributes:o}),e.next=18,ae.getCategoriesByProduct({product_id:t});case 18:if(!(i=e.sent).error){e.next=21;break}throw new Error(i.error.message);case 21:return n.setState({categories:i.map(function(e){return e.name})}),e.next=24,ae.getProductReviews({product_id:t});case 24:if(!(s=e.sent).error){e.next=27;break}throw new Error(s.error.message);case 27:u=0,s.forEach(function(e){u+=e.rating}),u/=s.length,n.setState({rating:Math.floor(u)}),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),n.setState({error:e.t0.message});case 36:return e.prev=36,n.setState({loading:!1}),e.finish(36);case 39:case"end":return e.stop()}},e,null,[[0,33,36,39]])}));return function(t){return e.apply(this,arguments)}}(),n.handleAddToCart=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i,s,u,l,d,p,m,h;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.addItemsToCart,a=t.closeProductDetailModal,o=n.state,c=o.product,i=o.selectedSizeAttribute,s=(i=void 0===i?{}:i).attribute_value,u=void 0===s?"":s,l=o.selectedColorAttribute,d=(l=void 0===l?{}:l).attribute_value,p=void 0===d?"":d,e.next=8,ae.getCartId();case 8:m=e.sent,h=r({cart_id:m,product_id:c.product_id,attributes:"".concat(u,", ").concat(p)}),h.error||a();case 11:case"end":return e.stop()}},e)})),n.setSize=function(e){n.setState({selectedSizeAttribute:e})},n.setColor=function(e){n.setState({selectedColorAttribute:e})},n.state={product:void 0,sizeAttributes:[],colorAttributes:[],categories:[],selectedColorAttribute:{},selectedSizeAttribute:{},rating:0,loading:!0},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.productId;t!==this.props.productId&&this.loadProduct(t)}},{key:"render",value:function(){var e=this.state,t=e.product,n=e.sizeAttributes,r=e.colorAttributes,a=e.categories,c=e.selectedColorAttribute,i=e.selectedSizeAttribute,s=e.rating,u=e.loading;return o.a.createElement(Ur,{product:t,onClickAddToCart:this.handleAddToCart,sizeAttributes:n,colorAttributes:r,categories:a,onClickSize:this.setSize,onClickColor:this.setColor,selectedColorAttribute:c,selectedSizeAttribute:i,rating:s,loading:u})}}]),t}(a.Component),Gr={addItemsToCart:function(e){var t=e.cart_id,n=e.product_id,r=e.attributes;return function(){var e=Object(C.a)(w.a.mark(function e(a){var o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.addItemToCart({cart_id:t,product_id:n,attributes:r});case 2:return o=e.sent,a(oe(o)),e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},closeProductDetailModal:ye},Vr=Object(u.compose)(Object(s.b)(function(){return{}},Gr),_.e)(Wr),Hr=function(e){var t=e.open,n=e.onClose,r=e.productId;return o.a.createElement(_e,{open:t,onClose:n},o.a.createElement(Vr,{productId:r}))};Hr.defaultProps={productId:void 0};var Zr={onClose:ye},$r=Object(s.b)(function(e){return{open:e.main.isProductDetailModalOpen,productId:e.main.selectedProductId}},Zr)(Hr);function Yr(){var e=Object(ue.a)(["\n    .main-content {\n        display: flex;\n        padding: 18px;\n    }\n\n    .category-list {\n        max-width: 160px;\n        width: fit-content;\n    }\n"]);return Yr=function(){return e},e}var Qr=le.b.div(Yr()),Kr=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(k.a)(this,Object(j.a)(t).call(this,e))).componentDidMount=Object(C.a)(w.a.mark(function e(){var t,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage[D],r=n.props.loadUser,t&&r();case 3:case"end":return e.stop()}},e)})),n.state={},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(Qr,null,o.a.createElement(Xe,null),o.a.createElement(dt,null),o.a.createElement(En,null),o.a.createElement($r,null),o.a.createElement(Dn,null),o.a.createElement($n,null),o.a.createElement("div",{className:"main-content"},o.a.createElement(or,null),o.a.createElement(vr,null)))}}]),t}(a.Component),Jr={incrementItemInCart:ie,decrementItemInCart:se,loadUser:function(){return function(){var e=Object(C.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getCustomer();case 2:return(n=e.sent).customer&&t(de({user:n.customer})),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},onRegister:pe,onLogin:me,onLoginWithFacebook:he,onLogOut:fe},Xr=Object(u.compose)(Object(s.b)(function(e){return{cart:xe(e.cart),user:e.main.user}},Jr))(Kr),ea=function(){return o.a.createElement(_.c,null,o.a.createElement(_.a,{exact:!0,path:"/",component:Xr}),o.a.createElement(_.a,{path:"/category/:category",component:Xr}),o.a.createElement(_.a,{path:"/department/:department/category/:category",component:Xr}),o.a.createElement(_.a,{path:"/product/:productId",component:Vr}))},ta=n(31),na=Object(ta.a)();function ra(){var e=Object(ue.a)(["\n    .modal {\n        overflow: auto;\n    }\n"]);return ra=function(){return e},e}var aa=Object(le.a)(ra()),oa=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(k.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=Object(C.a)(w.a.mark(function e(){var t,r,a,o,c,i,s,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.storeCart,a=t.storeDepartments,o=t.storeCategories,e.next=3,ae.getCart();case 3:return c=e.sent,r(c),e.next=7,ae.getAllDepartments();case 7:return i=e.sent,e.next=10,ae.getAllCategories();case 10:s=e.sent,u=s.categories,a(i),o(u);case 14:case"end":return e.stop()}},e)})),n.handleFacebookLogin=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).accessToken;(0,n.props.onLoginWithFacebook)({accessToken:e})},n.renderFacebookAutoLogin=function(){return window.localStorage[D]?null:o.a.createElement(S.a,{appId:"352854622106208",autoLoad:!0,cssClass:"facebook-auto-login",callback:n.handleFacebookLogin})},n}return Object(N.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement(Ee,{className:"App"},o.a.createElement(_.b,{history:na},o.a.createElement(aa,null),o.a.createElement(ea,null)))}}]),t}(a.Component),ca={onLoginWithFacebook:he,storeCart:oe,storeDepartments:be,storeCategories:ge},ia=Object(s.b)(function(e){return{user:e.main.user}},ca)(oa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(s.a,{store:y},o.a.createElement(ia,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,1,2]]]);
//# sourceMappingURL=main.33ad8ca2.chunk.js.map